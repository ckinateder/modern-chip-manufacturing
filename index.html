<!DOCTYPE html>
<html>
  <head>
    <title>Visualization Critique</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Kode+Mono:wght@400..700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="icon" href="img/icon.png" type="image/png" />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="slideshow">
      <div class="slide-container">
        <img class="slide" id="slide1" src="img/sld_1.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide2').scrollIntoView();"
        />
      </div>
      <div class="slide-container">
        <img class="slide" id="slide2" src="img/sld_2.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide3').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide1').scrollIntoView();"
        />
      </div>
      <div class="slide-container">
        <img class="slide" id="slide3" src="img/sld_3.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide4').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide2').scrollIntoView();"
        />
      </div>
      <div class="slide-container">
        <img class="slide" id="slide4" src="img/sld_4.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide5').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide3').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide5" src="img/sld_5.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide6').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide4').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide6" src="img/sld_6.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide7').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide5').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide7" src="img/sld_7.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide8').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide6').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide8" src="img/sld_8.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide9').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide7').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide9" src="img/sld_9.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide10').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide8').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide10" src="img/sld_10.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide11').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide9').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide11" src="img/sld_11.svg" alt="Slide 1" />
        <img
          src="img/down-arrow.png"
          class="down-btn"
          onClick="document.getElementById('slide12').scrollIntoView();"
        />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide10').scrollIntoView();"
        />
      </div>

      <div class="slide-container">
        <img class="slide" id="slide12" src="img/sld_12.svg" alt="Slide 1" />
        <img
          src="img/up-arrow.png"
          class="up-btn"
          onClick="document.getElementById('slide1').scrollIntoView();"
        />
      </div>
    </div>

    <img src="img/down-arrow.png" class="next-viewport-down-btn" />
    <img src="img/up-arrow.png" class="to-top-btn" />
  </body>

  <script>
    // keep track of the current element in view

    // scroll down one viewport on click of .next-viewport-down
    let disabledOpacity = 0.5;
    $(".next-viewport-down-btn").click(function () {
      $(".next-viewport-down-btn").css("opacity", disabledOpacity);
      setTimeout(function () {
        $(".next-viewport-down-btn").css("opacity", 1);
      }, 500);
      if (!event.detail || event.detail < 2)
        window.scrollBy(0, window.innerHeight + 5);
    });

    // when scrolling in motion, disable the button, and re-enable it after scrolling stops
    let lastSlide = 12;
    const onLastSlide = () => {
      return (
        window.scrollY + window.innerHeight >=
        lastSlide * window.innerHeight - window.innerHeight / 2
      );
    };

    let scrollTimeout;
    $(window).scroll(function () {
      /*
      if (!onLastSlide()) {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(function () {
          $(".next-viewport-down-btn").css("opacity", 1);
        }, 300);
      }
      */
      if (onLastSlide()) {
        $(".next-viewport-down-btn").css("opacity", 0);
        $(".next-viewport-down-btn").css("pointer-events", "none");

        $(".to-top-btn").css("opacity", 1);
        $(".to-top-btn").css("pointer-events", "auto");
      } else {
        $(".next-viewport-down-btn").css("opacity", 1);
        $(".next-viewport-down-btn").css("pointer-events", "auto");

        $(".to-top-btn").css("opacity", 0);
        $(".to-top-btn").css("pointer-events", "none");
      }
    });

    // scroll to the top of the page on click of .to-top-btn
    $(".to-top-btn").click(function () {
      $(".to-top-btn").css("opacity", disabledOpacity);
      setTimeout(function () {
        $(".to-top-btn").css("opacity", 1);
      }, 500);
      if (!event.detail || event.detail < 2) window.scrollTo(0, 0);
    });
  </script>
</html>
